<div class="profile-container">

  <div class="profile-block user-block">
      <h2 class="page-header">{{user?.firstname}} {{user?.lastname}}</h2>
      <ul class="list-group">
          <li class="list-group-item">Логин: {{user?.username}}</li>
          <li class="list-group-item">Почта: {{user?.email}}</li>
          <li class="list-group-item" *ngIf="user?.admin">Admin</li>
      </ul>
  </div>

  <div class="profile-block changePw-block">
    <h2 class="page-header">Сменить пароль</h2>
    <form [formGroup]="changePwForm" (ngSubmit)="onPasswordChange() ; changePwForm.reset()" class="login-form">
        <div class="form-group" [ngClass]="{'has-error': changePwForm.get('password').invalid && !changePwForm.get('password').pristine}">
            <input type="password" class="form-control" formControlName="password" name="newPassword" placeholder="Новый пароль" [ngClass]="{'form-control-danger': changePwForm.get('password').invalid && !changePwForm.get('password').pristine}">
        </div>

        <div class="form-group" [ngClass]="{'has-error': changePwForm.get('passwordConfirm').invalid && !changePwForm.get('passwordConfirm').pristine}">
          <input type="password" class="form-control" formControlName="passwordConfirm" name="newPassword2" placeholder="Подтвердите новый пароль" [ngClass]="{'form-control-danger': changePwForm.get('passwordConfirm').invalid}">
        </div>
        <button [disabled]="!changePwForm.valid" type="submit" class="btn btn-primary">Изменить</button>
        <small *ngIf="changePwForm.get('passwordConfirm').hasError('areEqual') && changePwForm.get('passwordConfirm').touched" class="form-alert">Пароли не сопадают</small>
    </form>
  </div>

  <div class="panel-body">
    <table class="table table-striped table-hover">
      <thead>
        <h2 class="page-header">Мои бронирования</h2>
        <tr>
          <th>Действие</th>
          <th>Начало</th>
          <th>Конец</th>
          <th>Доп. инфо</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let event of events">
          <td>{{event.title}}</td>
          <td>{{event.start}}</td>
          <td>{{event.end}}</td>
          <td>{{event.description}}</td>
        </tr>
      </tbody>
    </table>
  </div>

</div>
